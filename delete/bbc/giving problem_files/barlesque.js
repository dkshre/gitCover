(function(){var i,g,y,s=null,a={},u={searchSuggestion:"Search the BBC"},j=31536000000,h={updateNoImagesState:function(){var z=g("#blq-search-btn")[0];if(z.currentStyle){var A=z.currentStyle.backgroundImage}else{if(window.getComputedStyle){var A=document.defaultView.getComputedStyle(z,null).getPropertyValue("background-image")}}if(A.indexOf("search_icon.png")==-1){return false}else{g("#blq-mast-home").removeClass("blq-no-images");return true}},searchTheBBCSearchHint:function(){var z=g("#blq-search");y(z,"focus",function(){if(z.val()==u.searchSuggestion){z.val("")}});y(z,"blur",function(){if(!z.val()){z.val(u.searchSuggestion)}});y(z.parent().parent(),"submit",function(A){if(z.val()==u.searchSuggestion){z.val("")}});if(z.val()==""&&!g(document.activeElement).eq(z)){z.val(u.searchSuggestion)}},addMorePanel:function(){var A=g("#blq-nav-links"),C=g("#blq-nav-main");A.css({visibility:"hidden",display:"block"});var z=g("body"),B=new i.widgets.Panel(g("#blq-nav-links"),{modal:false,hideWindowedFlash:false,width:A.width(),height:A.height(),template:'<div><div class="panel-hd"></div><div class="panel-bd"></div><div class="panel-ft"></div></div>',autoPosition:false,id:"blq-morepanel"}),E,D=function(){B.hide();C.removeClass("blq-morepanel-shown");unbind(E);return false},G=function(){if(B.isShown){return false}B.show();C.addClass("blq-morepanel-shown");setTimeout(function(){E=y(document,"click",F)},0);return false};A.css({visibility:""});B.container.addClass("blq-overlay").addClass("blq-gvl-3").addClass("blq-rst").css({"z-index":"30000"}).appendTo("#blq-container-inner");y("#blq-nav-m a","click",G);function F(H){if(H.source!=B.container[0]&&!g(H.source).isWithin(B.container)){D()}}},mapPublicApi:function(){if(!window.blqOnDomReady){window.blqOnDomReady=i.ready}},addAutosuggest:function(){var z=this;if(!blq.suggest){blq.suggest=function(A){if(z.suggestion&&z.suggestion._pendingRequest){clearTimeout(z.suggestion._pendingRequest._timeout)}z.suggestion._pendingRequest=null;z.suggestion.setData(A[1]||[]);z.suggestion.find();i.dom.get("#blq-search-btn").removeClass("loading")}}i.ready(function(){var A=document.getElementById("blq-search");if(!A){return false}A.setAttribute("autocomplete","off");A.onfocus=function(){if(document.getElementById("blq-autosuggest")){return false}gloader.load(["glow","1","glow.dom","glow.net","glow.widgets.AutoSuggest"],{async:true,onLoad:function(B){B.ready(function(){var E=B.dom.get;var D=E("#blq-mast input").filter(function(F){return E(this).attr("name")=="scope"});D=(D.length)?D.attr("value"):"all";z.noData=false;var C=B.dom.get("#blq-container-inner").hasClass("blq-rtl");z.suggestion=new B.widgets.AutoSuggest("#blq-search",[],{index:"title",maxListLength:blq.suggest_short?3:6,activeOnShow:false,useCache:true,formatItem:function(G){var F=G.title;if(F.length>28){F=G.title.substring(0,25)+"...";F+='<span class="blq-hide">'+G.title.substring(25,G.title.length)+"</span>"}return F},isMatch:function(){return this.data.length?true:false},onInputChange:function(H){H.preventDefault();if(this.noData){return false}B.dom.get("#suggid").remove();if(this._pendingRequest){this._pendingRequest.abort()}var G=this;var F=B.data.encodeUrl({q:H.value,scope:D,format:"blq-1",callback:"blq.suggest"});this._pendingRequest=B.net.loadScript(this.searchHost+"/suggest?"+F,{useCache:true,charset:"utf-8",onError:function(){G.inputElement.attr("autocomplete","on");G.noData=true},timeout:5});B.dom.get("#blq-search-btn").addClass("loading")},onDataError:function(F){this.inputElement.attr("autocomplete","on")},onItemSelect:function(H){this.setValue(H.selectedItem.title);var F=B.dom.get("#suggid");if(!F.length){F=B.dom.create('<input type="hidden" name="suggid" id="suggid" />');B.dom.get("#blq-mast form").prepend(F)}F.val(H.selectedItem.id);var G=B.dom.get("#blq-mast form");G[0].submit()}});z.suggestion.searchHost=z.searchHost||"http://search.bbc.co.uk";z.suggestion.overlay.container.attr("id","blq-autosuggest");z.suggestion.overlay.container.addClass("blq-rst");if(C){z.suggestion.overlay.container.addClass("blq-rtl")}z.suggestion.overlay.opts.hideWindowedFlash=false;B.events.addListener(z.suggestion,"show",function(){B.dom.get("#blq-search-btn").removeClass("loading")})})}});A.onfocus=function(){}}})},setARIAValues:function(){g("#blq-acc").attr("role","navigation");g("#blq-search").attr("role","search");g("#blq-local-nav").attr("role","navigation");g("#blq-content").attr("role","main");g("#blq-nav-main").attr("role","navigation");g("#blq-nav").attr("role","navigation");g("#blq-foot").attr("role","contentinfo")},defaultGoTracking:function(){this.defaultGoTracking.isStub=true},defaultIStatsTracking:function(){if(typeof require!=="undefined"){require(["istats-1"],function(z){require.ready(function(){z.track("internal",{region:document.getElementById("blq-mast-home"),linkLocation:"blq-mast-home-gvl3"});z.track("internal",{region:document.getElementById("blq-nav-main"),linkLocation:"blq-nav-main-gvl3"});z.track("internal",{region:document.getElementById("blq-nav-links-inner"),linkLocation:"blq-nav-links-gvl3"});z.track("internal",{region:document.getElementById("blq-foot"),linkLocation:"blq-foot-gvl3"});z.addNoTrack(document.getElementById("blq-nav-m").getElementsByTagName("a")[0]);y("#blq-nav-m a","click",function(){z.log("click","more-click-gvl3");return false})})})}},createClickHandlersForMobileLinks:function(){var A=document.getElementById("blq-acc-mobile-link"),z=document.getElementById("blq-acc-desktop");if(z){z.onclick=function(B){p("desktop")}}else{if(A){A.onclick=function(B){p("mobile")}}}}};function d(){return(document.getElementById&&document.getElementsByTagName)}function f(z,A){}f.isStub=true;function c(z){if(l[z]){delete l[z]}}function o(B,D,C){var A=new Date(),z;A.setTime(A.getTime()+C);z="; expires="+A.toGMTString();document.cookie=B+"="+encodeURIComponent(D)+z+"; path=/"}function p(A,z){if(!z){z=j}switch(A){case"mobile":o("blq.dPref","m",z);break;case"desktop":o("blq.dPref","d",z);break;default:throw"No device has been set";break}}function k(){var z=b("blq.dPref");if(z){return z}else{return false}}function b(B){var E=B+"=",D=document.cookie.split(";"),A;for(var C=0,z=D.length;C<z;C++){A=D[C];while(A.charAt(0)===" "){A=A.substring(1,A.length)}if(A.indexOf(E)===0){return decodeURIComponent(A.substring(E.length,A.length))}}return null}function x(z){o(z,"",-1)}function v(){return s}function m(z){s=z}function n(z){return a[z]}function r(z,A){a[z]=A}function t(z,A){u[z]=A}function e(B,z){if(B.createTextRange){var A=B.createTextRange();A.moveStart("character",z);A.moveEnd("character",z-B.value.length);A.select()}else{if(B.selectionStart){B.focus();B.setSelectionRange(z,z)}else{B.focus()}}}function w(){var z=document.getElementById("blq-container-inner");return z.lang||"en-GB"}function q(A){if(d()){i=A,g=A.dom.get,y=A.events.addListener;unbind=A.events.removeListener;if(w().substr(0,2)!=="en"){c("addAutosuggest")}for(var z in l){l[z]()}}}var l=(function(){return h})();window.blq={addGoTrack:f,disableFeature:c,environment:v,setEnvironment:m,setLabel:t,flagpole:n,setFlagpole:r,createCookie:o,readCookie:b,eraseCookie:x,setDevicePref:p,getDevicePref:k,availableFeatures:l};if(window.gloader){document.documentElement.className+=" blq-js";gloader.load(["glow","1","glow.dom","glow.widgets.Panel"],{async:true,onLoad:function(z){z.ready(function(){q(z)})}})}})();var demi=(function(){var c=false,b=[],a=null;return{_reset:function(){c=false;b=[];a=null},_loaded:function(){while(b.length>0){demi.getDevice(b.shift(),blq.environment())}},_addScriptTag:function(f){var d=document.getElementsByTagName("head")[0];var e=document.createElement("script");e.type="text/javascript";e.src=f;d.insertBefore(e,d.firstChild)},_setSource:function(d){a=d},getDevice:function(d){b.push(d);if(!c){c=true;demi._addScriptTag(a)}}}})();